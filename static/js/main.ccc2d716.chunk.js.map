{"version":3,"sources":["api/API_DATA.js","components/CreatePerson.jsx","components/PeopleTable.jsx","App.js","index.js"],"names":["loadPeople","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","responsePeople","people","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","apply","this","arguments","CreatePerson","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","_event$target","target","name","value","console","log","setState","defineProperty","handleSubmit","preventDefault","onSubmit","state","id","born","died","sex","mother","father","children","length","_this2","_this$state","react_default","createElement","className","type","placeholder","onChange","max","map","personMother","key","personFather","onClick","React","Component","PeopleTable","selectedPersonId","_this$props","handleClickSortBy","person","classnames","PeopleTable__row","PeopleTable__row--selected","person--father","person--female","persBornBefore","persDiedAfter","age","century","join","App","visiblePeople","filtredSheet","isLoaded","isLoading","direction","search","LoadData","peopleData","getPeople","index","objectSpread","Math","ceil","filter","child","personn","getSortBy","field","b","localeCompare","prevState","toConsumableArray","sort","updateSearch","slice","addPerson","concat","handleChangeFilter","toLowerCase","includes","components_CreatePerson","App_SearchField","components_PeopleTable","disabled","SearchField","_ref2","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ccc2d716.chunk.js","sourcesContent":["\nconst loadPeople = async() => {\n  const urlPeople = 'https://mate-academy.github.io/react_people-table/api/people.json';\n  const responsePeople = await fetch(urlPeople);\n  const people = await responsePeople.json();\n\n  return people;\n};\n\nexport default loadPeople;\n","import React from 'react';\n\nclass CreatePerson extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: this.props.people.length + 1,\n      name: '',\n      born: '',\n      died: '',\n      sex: 'f',\n      mother: '',\n      father: '',\n      children: [],\n    };\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    console.log(value);\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state);\n    this.setState({\n      id: '',\n      name: '',\n      born: '',\n      died: '',\n      sex: 'f',\n      mother: '',\n      father: '',\n      children: [],\n    });\n  }\n\n  render() {\n    const { people } = this.props;\n    const { mother, father } = this.state;\n\n    return (\n      <div className=\"form\">\n        <from>\n          <input\n            type=\"text\"\n            value={this.state.name}\n            placeholder=\"Enter your name\"\n            onChange={this.handleChange}\n            name=\"name\"\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Enter only year of born\"\n            onChange={this.handleChange}\n            name=\"born\"\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Enter only year of died\"\n            onChange={this.handleChange}\n            name=\"died\"\n            max=\"4\"\n          />\n          <select\n            id=\"form-select\"\n            className=\"form-field_input\"\n            name=\"mother\"\n            value={mother}\n            onChange={this.handleChange}\n          >\n            <option value=\"\">Select mother</option>\n            {people.map(personMother => (\n              <option\n                value={personMother.mother}\n                key={personMother.mother}\n              >\n                {personMother.mother}\n              </option>\n            ))}\n          </select>\n\n          <select\n            id=\"form-select\"\n            className=\"form-field_input\"\n            name=\"father\"\n            value={father}\n            onChange={this.handleChange}\n          >\n            <option value=\"\">Select father</option>\n            {people.map(personFather => (\n              <option\n                value={personFather.father}\n                key={personFather.father}\n              >\n                {personFather.father}\n              </option>\n            ))}\n          </select>\n\n          <button\n            type=\"button\"\n            onClick={() => this.props.onSubmit(this.state)}\n          >\nSubmit\n          </button>\n        </from>\n      </div>\n    );\n  }\n}\n\nexport default CreatePerson;\n","import React from 'react';\nimport classnames from 'classnames';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  }\n\n  render() {\n    const {\n      handleClickSortBy,\n      people,\n    } = this.props;\n    const { selectedPersonId } = this.state;\n\n    return (\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th onClick={() => handleClickSortBy('id')}>ID</th>\n            <th onClick={() => handleClickSortBy('name')}>Name</th>\n            <th>Sex</th>\n            <th onClick={() => handleClickSortBy('born')}>Born</th>\n            <th onClick={() => handleClickSortBy('died')}>Died</th>\n            <th>Mother</th>\n            <th>Father</th>\n            <th onClick={() => handleClickSortBy('age')}>Age</th>\n            <th>Century</th>\n            <th>Children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map(person => (\n            <tr\n              className={classnames({\n                'PeopleTable__row': true,\n                'PeopleTable__row--selected': person.id === selectedPersonId,\n                'person--father': person.sex === 'm'\n                  && person.children.length > 0,\n                'person--female': person.sex === 'f',\n              })}\n              onClick={() => this.setState({\n                selectedPersonId: person.id,\n              })}\n            >\n              <td>{person.id}</td>\n              <td\n                className={classnames({\n                  persBornBefore: person.born < 1650,\n                  persDiedAfter: person.died > 1800,\n                })}\n              >\n                {person.name}\n              </td>\n              <td>{person.sex}</td>\n              <td>{person.born}</td>\n              <td>{person.died}</td>\n              <td>{person.mother}</td>\n              <td>{person.father}</td>\n              <td className={person.age > 65 ? 'ageMore' : ''}>{person.age}</td>\n              <td>{person.century}</td>\n              <td>{person.children.join(', ')}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default PeopleTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport loadPeople from './api/API_DATA';\nimport CreatePerson from './components/CreatePerson';\nimport PeopleTable from './components/PeopleTable';\nimport './api/style.css';\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    filtredSheet: [],\n    isLoaded: false,\n    isLoading: false,\n    direction: 1,\n    search: '',\n  }\n\n  LoadData = async() => {\n    this.setState({\n      isLoading: true,\n    });\n\n    const peopleData = await loadPeople();\n\n    const getPeople = peopleData.map((person, index) => ({\n      ...person,\n      id: index + 1,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      children: peopleData\n        .filter(child => child.father === person.name\n            || child.mother === person.name)\n        .map(personn => personn.name),\n    }));\n\n    this.setState({\n      people: getPeople,\n      visiblePeople: getPeople,\n      isLoaded: true,\n      isLoading: false,\n    });\n  }\n\n  getSortBy = field => (a, b) => {\n    const { direction } = this.state;\n\n    switch (typeof a[field]) {\n      case 'string':\n        return direction * a[field].localeCompare(b[field]);\n\n      case 'number':\n      case 'boolean':\n        return direction * a[field] - b[field];\n\n      default:\n        return 0;\n    }\n  };\n\n  handleClickSortBy = (field) => {\n    this.setState(prevState => ({\n      direction: prevState.direction === 1 ? -1 : 1,\n      visiblePeople: [...prevState.people].sort(this.getSortBy(field)),\n    }));\n  }\n\n  updateSearch = (event) => {\n    this.setState({\n      search: event.target.value.slice(0),\n    });\n  }\n\n  addPerson = (person) => {\n    this.setState((prevState) => {\n      const copiedPeople = [...prevState.visiblePeople, person];\n\n      return {\n        visiblePeople: copiedPeople,\n      };\n    });\n  }\n\n  handleChangeFilter = () => {\n    this.setState({\n      filtredSheet: this.state.visiblePeople.filter(person => (\n        [person.name, person.mother, person.father]\n          .join('')\n          .toLowerCase()\n          .includes(this.state.search.toLowerCase())\n      ))\n    })\n  }\n\n  render() {\n    const filtredSheet = this.state.visiblePeople.filter(person => (\n      [person.name, person.mother, person.father]\n        .join('')\n        .toLowerCase()\n        .includes(this.state.search.toLowerCase())\n    ));\n\n    if (this.state.isLoaded) {\n      return (\n        <div>\n          <CreatePerson\n            onSubmit={this.addPerson}\n            people={filtredSheet}\n          />\n\n          <SearchField\n            search={this.state.search}\n            updateSearch={this.updateSearch}\n          />\n          <PeopleTable\n            people={filtredSheet}\n            handleClickSortBy={this.handleClickSortBy}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"button_load\">\n          <button\n            className=\"button\"\n            onClick={this.LoadData}\n            type=\"button\"\n            disabled={this.state.isLoading}\n          >\n            {' '}\n            {this.state.isLoading ? 'Loading...' : 'Load'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst SearchField = ({ search, updateSearch }) => (\n  <div className=\"search_list\">\n    <input\n      className=\"search_field\"\n      type=\"text\"\n      value={search}\n      onChange={updateSearch}\n      placeholder=\"Search\"\n    />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}